{"version":3,"file":"svgraph.js","sources":["../src/colourschemes.ts","../src/label.ts","../src/svg.ts","../src/svgraph.ts"],"sourcesContent":["export const inferno = [\"#000004\",\"#010005\",\"#010106\",\"#010108\",\"#02010a\",\"#02020c\",\"#02020e\",\"#030210\",\"#040312\",\"#040314\",\"#050417\",\"#060419\",\"#07051b\",\"#08051d\",\"#09061f\",\"#0a0722\",\"#0b0724\",\"#0c0826\",\"#0d0829\",\"#0e092b\",\"#10092d\",\"#110a30\",\"#120a32\",\"#140b34\",\"#150b37\",\"#160b39\",\"#180c3c\",\"#190c3e\",\"#1b0c41\",\"#1c0c43\",\"#1e0c45\",\"#1f0c48\",\"#210c4a\",\"#230c4c\",\"#240c4f\",\"#260c51\",\"#280b53\",\"#290b55\",\"#2b0b57\",\"#2d0b59\",\"#2f0a5b\",\"#310a5c\",\"#320a5e\",\"#340a5f\",\"#360961\",\"#380962\",\"#390963\",\"#3b0964\",\"#3d0965\",\"#3e0966\",\"#400a67\",\"#420a68\",\"#440a68\",\"#450a69\",\"#470b6a\",\"#490b6a\",\"#4a0c6b\",\"#4c0c6b\",\"#4d0d6c\",\"#4f0d6c\",\"#510e6c\",\"#520e6d\",\"#540f6d\",\"#550f6d\",\"#57106e\",\"#59106e\",\"#5a116e\",\"#5c126e\",\"#5d126e\",\"#5f136e\",\"#61136e\",\"#62146e\",\"#64156e\",\"#65156e\",\"#67166e\",\"#69166e\",\"#6a176e\",\"#6c186e\",\"#6d186e\",\"#6f196e\",\"#71196e\",\"#721a6e\",\"#741a6e\",\"#751b6e\",\"#771c6d\",\"#781c6d\",\"#7a1d6d\",\"#7c1d6d\",\"#7d1e6d\",\"#7f1e6c\",\"#801f6c\",\"#82206c\",\"#84206b\",\"#85216b\",\"#87216b\",\"#88226a\",\"#8a226a\",\"#8c2369\",\"#8d2369\",\"#8f2469\",\"#902568\",\"#922568\",\"#932667\",\"#952667\",\"#972766\",\"#982766\",\"#9a2865\",\"#9b2964\",\"#9d2964\",\"#9f2a63\",\"#a02a63\",\"#a22b62\",\"#a32c61\",\"#a52c60\",\"#a62d60\",\"#a82e5f\",\"#a92e5e\",\"#ab2f5e\",\"#ad305d\",\"#ae305c\",\"#b0315b\",\"#b1325a\",\"#b3325a\",\"#b43359\",\"#b63458\",\"#b73557\",\"#b93556\",\"#ba3655\",\"#bc3754\",\"#bd3853\",\"#bf3952\",\"#c03a51\",\"#c13a50\",\"#c33b4f\",\"#c43c4e\",\"#c63d4d\",\"#c73e4c\",\"#c83f4b\",\"#ca404a\",\"#cb4149\",\"#cc4248\",\"#ce4347\",\"#cf4446\",\"#d04545\",\"#d24644\",\"#d34743\",\"#d44842\",\"#d54a41\",\"#d74b3f\",\"#d84c3e\",\"#d94d3d\",\"#da4e3c\",\"#db503b\",\"#dd513a\",\"#de5238\",\"#df5337\",\"#e05536\",\"#e15635\",\"#e25734\",\"#e35933\",\"#e45a31\",\"#e55c30\",\"#e65d2f\",\"#e75e2e\",\"#e8602d\",\"#e9612b\",\"#ea632a\",\"#eb6429\",\"#eb6628\",\"#ec6726\",\"#ed6925\",\"#ee6a24\",\"#ef6c23\",\"#ef6e21\",\"#f06f20\",\"#f1711f\",\"#f1731d\",\"#f2741c\",\"#f3761b\",\"#f37819\",\"#f47918\",\"#f57b17\",\"#f57d15\",\"#f67e14\",\"#f68013\",\"#f78212\",\"#f78410\",\"#f8850f\",\"#f8870e\",\"#f8890c\",\"#f98b0b\",\"#f98c0a\",\"#f98e09\",\"#fa9008\",\"#fa9207\",\"#fa9407\",\"#fb9606\",\"#fb9706\",\"#fb9906\",\"#fb9b06\",\"#fb9d07\",\"#fc9f07\",\"#fca108\",\"#fca309\",\"#fca50a\",\"#fca60c\",\"#fca80d\",\"#fcaa0f\",\"#fcac11\",\"#fcae12\",\"#fcb014\",\"#fcb216\",\"#fcb418\",\"#fbb61a\",\"#fbb81d\",\"#fbba1f\",\"#fbbc21\",\"#fbbe23\",\"#fac026\",\"#fac228\",\"#fac42a\",\"#fac62d\",\"#f9c72f\",\"#f9c932\",\"#f9cb35\",\"#f8cd37\",\"#f8cf3a\",\"#f7d13d\",\"#f7d340\",\"#f6d543\",\"#f6d746\",\"#f5d949\",\"#f5db4c\",\"#f4dd4f\",\"#f4df53\",\"#f4e156\",\"#f3e35a\",\"#f3e55d\",\"#f2e661\",\"#f2e865\",\"#f2ea69\",\"#f1ec6d\",\"#f1ed71\",\"#f1ef75\",\"#f1f179\",\"#f2f27d\",\"#f2f482\",\"#f3f586\",\"#f3f68a\",\"#f4f88e\",\"#f5f992\",\"#f6fa96\",\"#f8fb9a\",\"#f9fc9d\",\"#fafda1\",\"#fcffa4\"]\n\nexport const warm = [\"#6e40aa\",\"#6f40aa\",\"#7140ab\",\"#723fac\",\"#743fac\",\"#753fad\",\"#773fad\",\"#783fae\",\"#7a3fae\",\"#7c3faf\",\"#7d3faf\",\"#7f3faf\",\"#803eb0\",\"#823eb0\",\"#833eb0\",\"#853eb1\",\"#873eb1\",\"#883eb1\",\"#8a3eb2\",\"#8b3eb2\",\"#8d3eb2\",\"#8f3db2\",\"#903db2\",\"#923db3\",\"#943db3\",\"#953db3\",\"#973db3\",\"#983db3\",\"#9a3db3\",\"#9c3db3\",\"#9d3db3\",\"#9f3db3\",\"#a13db3\",\"#a23db3\",\"#a43db3\",\"#a63cb3\",\"#a73cb3\",\"#a93cb3\",\"#aa3cb2\",\"#ac3cb2\",\"#ae3cb2\",\"#af3cb2\",\"#b13cb2\",\"#b23cb1\",\"#b43cb1\",\"#b63cb1\",\"#b73cb0\",\"#b93cb0\",\"#ba3cb0\",\"#bc3caf\",\"#be3caf\",\"#bf3caf\",\"#c13dae\",\"#c23dae\",\"#c43dad\",\"#c53dad\",\"#c73dac\",\"#c83dac\",\"#ca3dab\",\"#cb3daa\",\"#cd3daa\",\"#ce3da9\",\"#d03ea9\",\"#d13ea8\",\"#d33ea7\",\"#d43ea7\",\"#d53ea6\",\"#d73ea5\",\"#d83fa4\",\"#da3fa4\",\"#db3fa3\",\"#dc3fa2\",\"#de3fa1\",\"#df40a0\",\"#e040a0\",\"#e2409f\",\"#e3409e\",\"#e4419d\",\"#e5419c\",\"#e7419b\",\"#e8429a\",\"#e94299\",\"#ea4298\",\"#eb4397\",\"#ed4396\",\"#ee4395\",\"#ef4494\",\"#f04493\",\"#f14592\",\"#f24591\",\"#f34590\",\"#f4468f\",\"#f5468e\",\"#f6478d\",\"#f7478c\",\"#f8488b\",\"#f9488a\",\"#fa4988\",\"#fb4987\",\"#fc4a86\",\"#fd4a85\",\"#fe4b84\",\"#fe4b83\",\"#ff4c81\",\"#ff4d80\",\"#ff4d7f\",\"#ff4e7e\",\"#ff4e7d\",\"#ff4f7b\",\"#ff507a\",\"#ff5079\",\"#ff5178\",\"#ff5276\",\"#ff5275\",\"#ff5374\",\"#ff5473\",\"#ff5572\",\"#ff5570\",\"#ff566f\",\"#ff576e\",\"#ff586d\",\"#ff586b\",\"#ff596a\",\"#ff5a69\",\"#ff5b68\",\"#ff5c66\",\"#ff5d65\",\"#ff5d64\",\"#ff5e63\",\"#ff5f61\",\"#ff6060\",\"#ff615f\",\"#ff625e\",\"#ff635d\",\"#ff645b\",\"#ff655a\",\"#ff6659\",\"#ff6758\",\"#ff6857\",\"#ff6956\",\"#ff6a54\",\"#ff6b53\",\"#ff6c52\",\"#ff6d51\",\"#ff6e50\",\"#ff6f4f\",\"#ff704e\",\"#ff714d\",\"#ff724c\",\"#ff734b\",\"#ff744a\",\"#ff7549\",\"#ff7648\",\"#ff7847\",\"#ff7946\",\"#ff7a45\",\"#ff7b44\",\"#ff7c43\",\"#ff7d42\",\"#ff7e41\",\"#ff8040\",\"#ff813f\",\"#ff823e\",\"#ff833d\",\"#ff843d\",\"#ff863c\",\"#ff873b\",\"#ff883a\",\"#ff893a\",\"#ff8a39\",\"#ff8c38\",\"#ff8d37\",\"#ff8e37\",\"#ff8f36\",\"#fe9136\",\"#fd9235\",\"#fd9334\",\"#fc9534\",\"#fb9633\",\"#fa9733\",\"#f99832\",\"#f99a32\",\"#f89b32\",\"#f79c31\",\"#f69d31\",\"#f59f30\",\"#f4a030\",\"#f3a130\",\"#f2a32f\",\"#f1a42f\",\"#f0a52f\",\"#efa62f\",\"#eea82f\",\"#eda92e\",\"#ecaa2e\",\"#ebac2e\",\"#eaad2e\",\"#e9ae2e\",\"#e8b02e\",\"#e7b12e\",\"#e6b22e\",\"#e5b32e\",\"#e4b52e\",\"#e3b62e\",\"#e2b72f\",\"#e1b92f\",\"#e0ba2f\",\"#dfbb2f\",\"#debc30\",\"#ddbe30\",\"#dbbf30\",\"#dac030\",\"#d9c131\",\"#d8c331\",\"#d7c432\",\"#d6c532\",\"#d5c633\",\"#d4c833\",\"#d3c934\",\"#d2ca34\",\"#d1cb35\",\"#cfcc36\",\"#cece36\",\"#cdcf37\",\"#ccd038\",\"#cbd138\",\"#cad239\",\"#c9d33a\",\"#c8d53b\",\"#c7d63c\",\"#c6d73c\",\"#c5d83d\",\"#c4d93e\",\"#c3da3f\",\"#c2db40\",\"#c1dc41\",\"#c0dd42\",\"#bfdf43\",\"#bee044\",\"#bde146\",\"#bce247\",\"#bbe348\",\"#bae449\",\"#b9e54a\",\"#b8e64b\",\"#b7e74d\",\"#b6e84e\",\"#b6e94f\",\"#b5ea51\",\"#b4ea52\",\"#b3eb53\",\"#b2ec55\",\"#b1ed56\",\"#b1ee58\",\"#b0ef59\",\"#aff05b\"]\n\nexport const turbo = [\"#23171b\",\"#271a28\",\"#2b1c33\",\"#2f1e3f\",\"#32204a\",\"#362354\",\"#39255f\",\"#3b2768\",\"#3e2a72\",\"#402c7b\",\"#422f83\",\"#44318b\",\"#453493\",\"#46369b\",\"#4839a2\",\"#493ca8\",\"#493eaf\",\"#4a41b5\",\"#4a44bb\",\"#4b46c0\",\"#4b49c5\",\"#4b4cca\",\"#4b4ecf\",\"#4b51d3\",\"#4a54d7\",\"#4a56db\",\"#4959de\",\"#495ce2\",\"#485fe5\",\"#4761e7\",\"#4664ea\",\"#4567ec\",\"#446aee\",\"#446df0\",\"#426ff2\",\"#4172f3\",\"#4075f5\",\"#3f78f6\",\"#3e7af7\",\"#3d7df7\",\"#3c80f8\",\"#3a83f9\",\"#3985f9\",\"#3888f9\",\"#378bf9\",\"#368df9\",\"#3590f8\",\"#3393f8\",\"#3295f7\",\"#3198f7\",\"#309bf6\",\"#2f9df5\",\"#2ea0f4\",\"#2da2f3\",\"#2ca5f1\",\"#2ba7f0\",\"#2aaaef\",\"#2aaced\",\"#29afec\",\"#28b1ea\",\"#28b4e8\",\"#27b6e6\",\"#27b8e5\",\"#26bbe3\",\"#26bde1\",\"#26bfdf\",\"#25c1dc\",\"#25c3da\",\"#25c6d8\",\"#25c8d6\",\"#25cad3\",\"#25ccd1\",\"#25cecf\",\"#26d0cc\",\"#26d2ca\",\"#26d4c8\",\"#27d6c5\",\"#27d8c3\",\"#28d9c0\",\"#29dbbe\",\"#29ddbb\",\"#2adfb8\",\"#2be0b6\",\"#2ce2b3\",\"#2de3b1\",\"#2ee5ae\",\"#30e6ac\",\"#31e8a9\",\"#32e9a6\",\"#34eba4\",\"#35eca1\",\"#37ed9f\",\"#39ef9c\",\"#3af09a\",\"#3cf197\",\"#3ef295\",\"#40f392\",\"#42f490\",\"#44f58d\",\"#46f68b\",\"#48f788\",\"#4af786\",\"#4df884\",\"#4ff981\",\"#51fa7f\",\"#54fa7d\",\"#56fb7a\",\"#59fb78\",\"#5cfc76\",\"#5efc74\",\"#61fd71\",\"#64fd6f\",\"#66fd6d\",\"#69fd6b\",\"#6cfd69\",\"#6ffe67\",\"#72fe65\",\"#75fe63\",\"#78fe61\",\"#7bfe5f\",\"#7efd5d\",\"#81fd5c\",\"#84fd5a\",\"#87fd58\",\"#8afc56\",\"#8dfc55\",\"#90fb53\",\"#93fb51\",\"#96fa50\",\"#99fa4e\",\"#9cf94d\",\"#9ff84b\",\"#a2f84a\",\"#a6f748\",\"#a9f647\",\"#acf546\",\"#aff444\",\"#b2f343\",\"#b5f242\",\"#b8f141\",\"#bbf03f\",\"#beef3e\",\"#c1ed3d\",\"#c3ec3c\",\"#c6eb3b\",\"#c9e93a\",\"#cce839\",\"#cfe738\",\"#d1e537\",\"#d4e336\",\"#d7e235\",\"#d9e034\",\"#dcdf33\",\"#dedd32\",\"#e0db32\",\"#e3d931\",\"#e5d730\",\"#e7d52f\",\"#e9d42f\",\"#ecd22e\",\"#eed02d\",\"#f0ce2c\",\"#f1cb2c\",\"#f3c92b\",\"#f5c72b\",\"#f7c52a\",\"#f8c329\",\"#fac029\",\"#fbbe28\",\"#fdbc28\",\"#feb927\",\"#ffb727\",\"#ffb526\",\"#ffb226\",\"#ffb025\",\"#ffad25\",\"#ffab24\",\"#ffa824\",\"#ffa623\",\"#ffa323\",\"#ffa022\",\"#ff9e22\",\"#ff9b21\",\"#ff9921\",\"#ff9621\",\"#ff9320\",\"#ff9020\",\"#ff8e1f\",\"#ff8b1f\",\"#ff881e\",\"#ff851e\",\"#ff831d\",\"#ff801d\",\"#ff7d1d\",\"#ff7a1c\",\"#ff781c\",\"#ff751b\",\"#ff721b\",\"#ff6f1a\",\"#fd6c1a\",\"#fc6a19\",\"#fa6719\",\"#f96418\",\"#f76118\",\"#f65f18\",\"#f45c17\",\"#f25916\",\"#f05716\",\"#ee5415\",\"#ec5115\",\"#ea4f14\",\"#e84c14\",\"#e64913\",\"#e44713\",\"#e24412\",\"#df4212\",\"#dd3f11\",\"#da3d10\",\"#d83a10\",\"#d5380f\",\"#d3360f\",\"#d0330e\",\"#ce310d\",\"#cb2f0d\",\"#c92d0c\",\"#c62a0b\",\"#c3280b\",\"#c1260a\",\"#be2409\",\"#bb2309\",\"#b92108\",\"#b61f07\",\"#b41d07\",\"#b11b06\",\"#af1a05\",\"#ac1805\",\"#aa1704\",\"#a81604\",\"#a51403\",\"#a31302\",\"#a11202\",\"#9f1101\",\"#9d1000\",\"#9b0f00\",\"#9a0e00\",\"#980e00\",\"#960d00\",\"#950c00\",\"#940c00\",\"#930c00\",\"#920c00\",\"#910b00\",\"#910c00\",\"#900c00\",\"#900c00\",\"#900c00\"]\n\nexport const rainbow = [\"#6e40aa\",\"#7140ab\",\"#743fac\",\"#773fad\",\"#7a3fae\",\"#7d3faf\",\"#803eb0\",\"#833eb0\",\"#873eb1\",\"#8a3eb2\",\"#8d3eb2\",\"#903db2\",\"#943db3\",\"#973db3\",\"#9a3db3\",\"#9d3db3\",\"#a13db3\",\"#a43db3\",\"#a73cb3\",\"#aa3cb2\",\"#ae3cb2\",\"#b13cb2\",\"#b43cb1\",\"#b73cb0\",\"#ba3cb0\",\"#be3caf\",\"#c13dae\",\"#c43dad\",\"#c73dac\",\"#ca3dab\",\"#cd3daa\",\"#d03ea9\",\"#d33ea7\",\"#d53ea6\",\"#d83fa4\",\"#db3fa3\",\"#de3fa1\",\"#e040a0\",\"#e3409e\",\"#e5419c\",\"#e8429a\",\"#ea4298\",\"#ed4396\",\"#ef4494\",\"#f14592\",\"#f34590\",\"#f5468e\",\"#f7478c\",\"#f9488a\",\"#fb4987\",\"#fd4a85\",\"#fe4b83\",\"#ff4d80\",\"#ff4e7e\",\"#ff4f7b\",\"#ff5079\",\"#ff5276\",\"#ff5374\",\"#ff5572\",\"#ff566f\",\"#ff586d\",\"#ff596a\",\"#ff5b68\",\"#ff5d65\",\"#ff5e63\",\"#ff6060\",\"#ff625e\",\"#ff645b\",\"#ff6659\",\"#ff6857\",\"#ff6a54\",\"#ff6c52\",\"#ff6e50\",\"#ff704e\",\"#ff724c\",\"#ff744a\",\"#ff7648\",\"#ff7946\",\"#ff7b44\",\"#ff7d42\",\"#ff8040\",\"#ff823e\",\"#ff843d\",\"#ff873b\",\"#ff893a\",\"#ff8c38\",\"#ff8e37\",\"#fe9136\",\"#fd9334\",\"#fb9633\",\"#f99832\",\"#f89b32\",\"#f69d31\",\"#f4a030\",\"#f2a32f\",\"#f0a52f\",\"#eea82f\",\"#ecaa2e\",\"#eaad2e\",\"#e8b02e\",\"#e6b22e\",\"#e4b52e\",\"#e2b72f\",\"#e0ba2f\",\"#debc30\",\"#dbbf30\",\"#d9c131\",\"#d7c432\",\"#d5c633\",\"#d3c934\",\"#d1cb35\",\"#cece36\",\"#ccd038\",\"#cad239\",\"#c8d53b\",\"#c6d73c\",\"#c4d93e\",\"#c2db40\",\"#c0dd42\",\"#bee044\",\"#bce247\",\"#bae449\",\"#b8e64b\",\"#b6e84e\",\"#b5ea51\",\"#b3eb53\",\"#b1ed56\",\"#b0ef59\",\"#adf05a\",\"#aaf159\",\"#a6f159\",\"#a2f258\",\"#9ef258\",\"#9af357\",\"#96f357\",\"#93f457\",\"#8ff457\",\"#8bf457\",\"#87f557\",\"#83f557\",\"#80f558\",\"#7cf658\",\"#78f659\",\"#74f65a\",\"#71f65b\",\"#6df65c\",\"#6af75d\",\"#66f75e\",\"#63f75f\",\"#5ff761\",\"#5cf662\",\"#59f664\",\"#55f665\",\"#52f667\",\"#4ff669\",\"#4cf56a\",\"#49f56c\",\"#46f46e\",\"#43f470\",\"#41f373\",\"#3ef375\",\"#3bf277\",\"#39f279\",\"#37f17c\",\"#34f07e\",\"#32ef80\",\"#30ee83\",\"#2eed85\",\"#2cec88\",\"#2aeb8a\",\"#28ea8d\",\"#27e98f\",\"#25e892\",\"#24e795\",\"#22e597\",\"#21e49a\",\"#20e29d\",\"#1fe19f\",\"#1edfa2\",\"#1ddea4\",\"#1cdca7\",\"#1bdbaa\",\"#1bd9ac\",\"#1ad7af\",\"#1ad5b1\",\"#1ad4b4\",\"#19d2b6\",\"#19d0b8\",\"#19cebb\",\"#19ccbd\",\"#19cabf\",\"#1ac8c1\",\"#1ac6c4\",\"#1ac4c6\",\"#1bc2c8\",\"#1bbfca\",\"#1cbdcc\",\"#1dbbcd\",\"#1db9cf\",\"#1eb6d1\",\"#1fb4d2\",\"#20b2d4\",\"#21afd5\",\"#22add7\",\"#23abd8\",\"#25a8d9\",\"#26a6db\",\"#27a4dc\",\"#29a1dd\",\"#2a9fdd\",\"#2b9cde\",\"#2d9adf\",\"#2e98e0\",\"#3095e0\",\"#3293e1\",\"#3390e1\",\"#358ee1\",\"#378ce1\",\"#3889e1\",\"#3a87e1\",\"#3c84e1\",\"#3d82e1\",\"#3f80e1\",\"#417de0\",\"#437be0\",\"#4479df\",\"#4676df\",\"#4874de\",\"#4a72dd\",\"#4b70dc\",\"#4d6ddb\",\"#4f6bda\",\"#5169d9\",\"#5267d7\",\"#5465d6\",\"#5663d5\",\"#5761d3\",\"#595fd1\",\"#5a5dd0\",\"#5c5bce\",\"#5d59cc\",\"#5f57ca\",\"#6055c8\",\"#6153c6\",\"#6351c4\",\"#6450c2\",\"#654ec0\",\"#664cbe\",\"#674abb\",\"#6849b9\",\"#6a47b7\",\"#6a46b4\",\"#6b44b2\",\"#6c43af\",\"#6d41ad\",\"#6e40aa\"]\n","export interface Label {\n\tget text(): string\n\tgetPos(max: number): number\n}\n\nexport class NumberLabel implements Label {\n\tconstructor(public value: number) { }\n\n\tget text() { return this.value.toString() }\n\n\tgetPos(max: number) { return this.value / max }\n}\n\n// TODO: date labels etc\n","const ns = \"http://www.w3.org/2000/svg\"\n\nexport function element(name: string, attrs: { [key: string]: any }, children: Node[] = []): SVGElement {\n\tconst elem = document.createElementNS(ns, name)\n\tfor (const key in attrs) {\n\t\tif (attrs[key] !== undefined) elem.setAttribute(key, attrs[key])\n\t}\n\tfor (const child of children ?? []) elem.appendChild(child)\n\treturn elem\n}\n\ntype stringable = string | number | boolean\n\ntype DefaultAttrs = {\n\tid?: string,\n\tclass?: string\n\ttransform?: string,\n\tfill?: string\n\tstroke?: string\n\t\"stroke-width\"?: string\n}\n\nexport const svg = (attrs: { width: string, height: string, viewBox?: string, preserveAspectRatio?: string, overflow?: string } & DefaultAttrs, ...children: Node[]) =>\n\telement(\"svg\", { ...attrs, xmlns: ns }, children)\n\nexport const g = (attrs: DefaultAttrs = {}, ...children: Node[]) => element(\"g\", attrs, children)\n\nexport const line = (attrs: { from: [stringable, stringable], to: [stringable, stringable] } & DefaultAttrs, ...children: Node[]) =>\n\telement(\"line\", { ...attrs, x1: attrs.from[0], y1: attrs.from[1], x2: attrs.to[0], y2: attrs.to[1], from: undefined, to: undefined }, children)\n\nexport const polyline = (attrs: { points: [number, number][] } & DefaultAttrs, ...children: Node[]) =>\n\telement(\"polyline\", { ...attrs, points: attrs.points.map(([x, y]) => `${x},${y}`).join(\" \") }, children)\n\nexport const rect = (attrs: { x?: stringable, y?: stringable, width: stringable, height: stringable, rx?: stringable, ry?: stringable } & DefaultAttrs, ...children: Node[]) =>\n\telement(\"rect\", attrs, children)\n\nexport const text = (attrs: { x: stringable, y: stringable, dx?: stringable, dy?: stringable, rotate?: number[], lengthAdjust?: string, textLength?: stringable, \"text-anchor\"?: \"start\" | \"middle\" | \"end\" } & DefaultAttrs, ...children: Node[]) =>\n\telement(\"text\", attrs, children)\n","import { turbo } from \"./colourschemes\"\nimport { Label, NumberLabel } from \"./label\"\nimport { g, line, polyline, svg, text } from \"./svg\"\n\nexport { Label, NumberLabel } from \"./label\"\n\nexport type Config = {\n\tdata: { [category: string]: number[] }\n\txLabels?: Label[]\n\tyLabels?: Label[]\n\tstyle?: Style\n}\n\nexport type Style = {\n\txAxisSize?: number\n\tyAxisSize?: number\n\tminSpacePerXLabel?: number\n\tminSpacePerYLabel?: number\n}\n\nexport default class SVGraph {\n\telem: SVGElement\n\n\tdata: { name: string, values: number[] }[]\n\txLabels: Label[]\n\tyLabels: Label[]\n\tstyle: Style\n\n\tmaxX: number\n\tmaxY: number\n\tprivate resizeObserver: ResizeObserver\n\n\tgetXLabelInterval = (width: number): number =>\n\t\tMath.ceil(this.xLabels.length / (width / this.style.minSpacePerXLabel))\n\n\tgetYLabelInterval = (height: number): number =>\n\t\tMath.ceil(this.yLabels.length / (height / this.style.minSpacePerYLabel))\n\n\tconstructor(config: Config) {\n\t\tthis.elem = svg({ width: \"100%\", height: \"100%\", overflow: \"visible\" })\n\t\tthis.update(config, false)\n\n\t\tthis.resizeObserver = new ResizeObserver((entries) => {\n\t\t\tthis.draw(entries[0].contentBoxSize[0].inlineSize, entries[0].contentBoxSize[0].blockSize)\n\t\t})\n\t\tthis.resizeObserver.observe(this.elem, { box: \"content-box\" })\n\t}\n\n\tupdate({ data, xLabels, yLabels, style }: Config, redraw = true) {\n\t\tthis.data = Object.entries(data).sort((a, b) => b[1].max() - a[1].max()).map(([name, values]) => ({ name, values }))\n\n\t\tthis.maxX = this.data.map(({ values }) => values.length - 1).max()\n\t\tthis.maxY = this.data[0].values.max()\n\n\t\tthis.xLabels = xLabels ?? new Set(this.data.flatMap(({ values }) => values.keys().toArray()))\n\t\t\t.values().toArray().sort((a, b) => a - b).map((i) => new NumberLabel(i))\n\t\tthis.yLabels = yLabels ?? [new NumberLabel(0), new NumberLabel(this.maxY)]\n\n\t\tthis.style = {\n\t\t\txAxisSize: style?.xAxisSize ?? 30,\n\t\t\tyAxisSize: style?.yAxisSize ?? 30,\n\t\t\tminSpacePerXLabel: style?.minSpacePerXLabel ?? 50,\n\t\t\tminSpacePerYLabel: style?.minSpacePerYLabel ?? 50,\n\t\t}\n\n\t\tif (redraw) this.draw(this.elem.clientWidth, this.elem.clientHeight)\n\t}\n\n\tdraw(width: number, height: number) {\n\t\tthis.elem.innerHTML = \"\"\n\n\t\tthis.elem.appendChild(this.grid(this.style.yAxisSize, 0, width - this.style.yAxisSize, height - this.style.xAxisSize))\n\t\tthis.elem.appendChild(this.axes(0, 0, width, height))\n\t\tthis.elem.appendChild(this.lines(this.style.yAxisSize, 0, width - this.style.yAxisSize, height - this.style.xAxisSize))\n\t}\n\n\tprivate axes(x: number, y: number, width: number, height: number): SVGElement {\n\t\treturn g({ class: \"axes\", transform: `translate(${x}, ${y})` },\n\t\t\tthis.xAxis(this.style.yAxisSize, height - this.style.xAxisSize, width - this.style.yAxisSize, this.style.xAxisSize),\n\t\t\tthis.yAxis(0, 0, this.style.yAxisSize, height - this.style.xAxisSize)\n\t\t)\n\t}\n\n\tprivate xAxis = (x: number, y: number, width: number, height: number): SVGElement =>\n\t\tg({ class: \"xaxis\" },\n\t\t\tline({ from: [x, y], to: [x + width, y], stroke: \"black\" }),\n\t\t\t...this.xLabels.filter((_, i) => i % this.getXLabelInterval(width) == 0)\n\t\t\t\t.map(step => text({\n\t\t\t\t\tx: x + step.getPos(this.maxX) * width,\n\t\t\t\t\ty: y + 20,\n\t\t\t\t\t\"text-anchor\": \"middle\"\n\t\t\t\t}, new Text(step.text)))\n\t\t)\n\n\tprivate yAxis = (x: number, y: number, width: number, height: number): SVGElement =>\n\t\tg({ class: \"yaxis\" },\n\t\t\tline({ from: [x + width, y], to: [x + width, y + height], stroke: \"black\" }),\n\t\t\t...this.yLabels.filter((_, i) => i % this.getYLabelInterval(height) == 0)\n\t\t\t\t.map(step => text({\n\t\t\t\t\tx: x + width - 10,\n\t\t\t\t\ty: y + (1 - step.getPos(this.maxY)) * height + 5,\n\t\t\t\t\t\"text-anchor\": \"end\"\n\t\t\t\t}, new Text(step.text)))\n\t\t)\n\n\tprivate grid = (x: number, y: number, width: number, height: number): SVGElement =>\n\t\tg({ class: \"grid\", transform: `translate(${x}, ${y})` },\n\t\t\t...this.xLabels.map(step => line({\n\t\t\t\tfrom: [step.getPos(this.maxX) * width, 0],\n\t\t\t\tto: [step.getPos(this.maxX) * width, height],\n\t\t\t\tstroke: \"#0004\"\n\t\t\t})),\n\t\t\t...this.yLabels.map(step => line({\n\t\t\t\tfrom: [0, (1 - step.getPos(this.maxY)) * height],\n\t\t\t\tto: [width, (1 - step.getPos(this.maxY)) * height],\n\t\t\t\tstroke: \"#0004\"\n\t\t\t})),\n\t\t)\n\n\tprivate lines = (x: number, y: number, width: number, height: number): SVGElement =>\n\t\tg({ class: \"lines\", transform: `translate(${x}, ${y})`, \"stroke-width\": \"2\" },\n\t\t\t...this.data.map(({ values }, i) => {\n\t\t\t\tconst colour = turbo[Math.floor((i + 1) / (this.data.length + 1) * turbo.length)]\n\t\t\t\tconst points = values.map((y, x) => [x * width / this.maxX, (1 - y / this.maxY) * height] as [number, number])\n\t\t\t\treturn polyline({ points, fill: \"none\", stroke: colour })\n\t\t\t})\n\t\t)\n}\n\ndeclare global {\n\tinterface Array<T> {\n\t\tmax(): number\n\t\tmin(): number\n\t}\n}\n\nArray.prototype.max = function () { return this.reduce((a, b) => Math.max(a, b), 0) }\nArray.prototype.min = function () { return this.reduce((a, b) => Math.min(a, b), 0) }\n"],"names":["turbo","NumberLabel","value","constructor","this","text","toString","getPos","max","ns","element","name","attrs","children","elem","document","createElementNS","key","undefined","setAttribute","child","appendChild","g","line","x1","from","y1","x2","to","y2","SVGraph","data","xLabels","yLabels","style","maxX","maxY","resizeObserver","getXLabelInterval","width","Math","ceil","length","minSpacePerXLabel","getYLabelInterval","height","minSpacePerYLabel","config","xmlns","svg","overflow","update","ResizeObserver","entries","draw","contentBoxSize","inlineSize","blockSize","observe","box","redraw","Object","sort","a","b","map","values","Set","flatMap","keys","toArray","i","xAxisSize","yAxisSize","clientWidth","clientHeight","innerHTML","grid","axes","lines","x","y","class","transform","xAxis","yAxis","stroke","filter","_","step","Text","colour","floor","points","join","polyline","fill","Array","prototype","reduce","min"],"mappings":"AAAO,MAIMA,EAAQ,CAAC,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU,UAAU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"}